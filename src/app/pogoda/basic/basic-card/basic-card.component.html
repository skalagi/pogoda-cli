<ng-template [ngIf]="basic$ | async" let-basic="$implicit">
  <div class="card" fxLayout="column" fxLayoutAlign="space-between stretch">
    <mat-progress-bar mode="indeterminate" 
      *ngIf="(loading$ | async) && !((chartError$ | async) || (error$ | async))"></mat-progress-bar>

    <mat-tab-group color="accent" [dynamicHeight]="true">

      <mat-tab label="{{ 
          title == 'Opady' && !basic?.value ? 'BRAK OPADÃ“W' 
            : title == 'Wiatr' && !basic?.current?.speed?.value
            ? 'BEZWIETRZNIE' : title.toUpperCase()  
        }}">
        <ng-template matTabContent>
          <skalagi-basic-data [basic]="basic"></skalagi-basic-data>
        </ng-template>
      </mat-tab>

      <mat-tab label="REKORDY">
        <ng-template matTabContent>
            <skalagi-records fxFlex *ngIf="type" [record]="type"></skalagi-records>
        </ng-template>
      </mat-tab>
    </mat-tab-group>

    <skalagi-basic-chart [data$]="chart$"></skalagi-basic-chart>
    
    <div class="actions primary-bg" *ngIf="!(chartError$ | async)">
      <button color="accent" mat-flat-button [routerLink]="['/raport', title.toLowerCase()]">RAPORT</button>
    </div>
  </div>
</ng-template>